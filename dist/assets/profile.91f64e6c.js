var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,l=Object.getOwnPropertySymbols,o=Object.prototype.propertyIsEnumerable,a=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,n=(e,n)=>{for(var s in n||(n={}))t.call(n,s)&&a(e,s,n[s]);if(l)for(var s of l(n))o.call(n,s)&&a(e,s,n[s]);return e};import{C as s}from"./vendor.faa86016.js";import{A as r,u as m,c as i,L as c}from"./index.2c7b21bb.js";import{q as u}from"./apiQuery.a11a7db1.js";import{S as f,H as p}from"./index.40950192.js";function d({user:e,photosCount:t,followshipCount:l}){var o,a;const[n,m]=s.useState(!1),{auth:{getUserDetails:i}}=s.useContext(r),c=i();return s.useEffect((async()=>{const t=await u.isUserFollowing(e.id);m(t),console.log(t)}),[]),console.log(),s.createElement("div",{className:"flex justify-center items-center md:flex-row flex-col w-11/12  mb-6  text-black-light"},s.createElement("div",{className:"flex justify-center  w-5/12 min-w-[200px] "},s.createElement("img",{className:"rounded-[200px]",width:"150px",height:"150px",src:null==(a=null==(o=e.profile_pic)?void 0:o.profile_pic)?void 0:a.url})),s.createElement("div",{className:"flex md:ml-12 ml-0 md:items-start items-center w-full flex-col h-full md:mt-0 mt-8"},s.createElement("div",{className:"w-36"},s.createElement("span",{className:"inline-flex mr-3 font-semibold"},e.username),c.username!=e.username?s.createElement("button",{onClick:()=>{(async()=>{const t=await u.handleFollow(e.id);console.log(t)})()},className:"p-1 rounded bg-blue-medium text-white"},n?"following":"follow"):null),s.createElement("div",{className:"inline-flex items-start flex-col  items-center mt-3"},s.createElement("div",{className:"space-x-9"},s.createElement("span",null,t," posts"),s.createElement("span",null,l.followers," followers"),s.createElement("span",null,l.following," following")),s.createElement("p",{className:"mt-3 justify-center"},e.bio?e.bio:null))))}function w({photos:e}){return s.createElement("div",{className:"flex md:justify-start justify-center flex-row flex-wrap mx-auto pt-6   w-full  border-t-[1px]"},e?e.length>0?e.map(((e,t)=>s.createElement("div",{key:t,className:"md:w-[30%] mb-5 w-10/12 min-w-[30%] md:h-72 h-96  md:ml-4"},s.createElement("img",{className:"w-full h-full",src:e[0].url})))):s.createElement("p",null,"make posts if u want them to appear in your profile"):new Array(12).fill(0).map(((e,t)=>s.createElement("div",{className:"w-full"},s.createElement(f,{key:t,width:"100%",height:400})," "))))}function h({user:e}){const[{profile:t,photosCollection:l,followshipCount:o},a]=s.useReducer(((e,t)=>n(n({},e),t)),{profile:{},photosCollection:null,followshipCount:{}});return s.useEffect((async()=>{let t=await u.getImagesOfUser(),l=await u.getFollowship(e.id);a({profile:e,photosCollection:t,followshipCount:l})}),[]),s.createElement(s.Fragment,null,s.createElement(d,{photosCount:l?l.length:0,followshipCount:o,user:e,setFollowerCount:a}),s.createElement(w,{photos:l}))}function E(){m();const[e,t]=s.useState(null),{username:l}=i();return s.useEffect((async()=>{const e=await u.getAUser(l);t(e||!1)}),[]),s.createElement("div",{className:"bg-gray-background"},s.createElement(p,null),s.createElement("div",{className:"container flex flex-col items-center md:mx-auto max-w-screen-lg h-full  my-7 "},null==e?s.createElement(c,{type:"TailSpin",color:"#00BFFF",height:200,width:200}):e?s.createElement(h,{user:e}):s.createElement("p",null,"Sorry, this username doesn't exist, maybe you got it wrong")))}export default E;
