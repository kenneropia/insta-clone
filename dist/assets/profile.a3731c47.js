var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,s=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,a=(e,a)=>{for(var n in a||(a={}))l.call(a,n)&&s(e,n,a[n]);if(t)for(var n of t(a))o.call(a,n)&&s(e,n,a[n]);return e};import{r as n,R as r,u as i,h as m,L as c}from"./vendor.cff9636d.js";import{q as u}from"./apiQuery.bb355e10.js";import{S as f,H as p}from"./index.ca75ad2e.js";import{A as d}from"./index.357f164d.js";function w({user:e,photosCount:t,followshipCount:l}){var o,s;const[a,i]=n.exports.useState(!1),{auth:{getUserDetails:m}}=n.exports.useContext(d),c=m();return n.exports.useEffect((async()=>{const t=await u.isUserFollowing(e.id);i(t),console.log(t)}),[]),console.log(),r.createElement("div",{className:"flex justify-center items-center md:flex-row flex-col w-11/12  mb-6  text-black-light"},r.createElement("div",{className:"flex justify-center  w-5/12 min-w-[200px] "},r.createElement("img",{className:"rounded-[200px]",width:"150px",height:"150px",src:null==(s=null==(o=e.profile_pic)?void 0:o.profile_pic)?void 0:s.url})),r.createElement("div",{className:"flex md:ml-12 ml-0 md:items-start items-center w-full flex-col h-full md:mt-0 mt-8"},r.createElement("div",{className:"w-36"},r.createElement("span",{className:"inline-flex mr-3 font-semibold"},e.username),c.username!=e.username?r.createElement("button",{onClick:()=>{(async()=>{const t=await u.handleFollow(e.id);console.log(t)})()},className:"p-1 rounded bg-blue-medium text-white"},a?"following":"follow"):null),r.createElement("div",{className:"inline-flex items-start flex-col  items-center mt-3"},r.createElement("div",{className:"space-x-9"},r.createElement("span",null,t," posts"),r.createElement("span",null,l.followers," followers"),r.createElement("span",null,l.following," following")),r.createElement("p",{className:"mt-3 justify-center"},e.bio?e.bio:null))))}function h({photos:e}){return r.createElement("div",{className:"flex md:justify-start justify-center flex-row flex-wrap mx-auto pt-6   w-full  border-t-[1px]"},e?e.length>0?e.map(((e,t)=>r.createElement("div",{key:t,className:"md:w-[30%] mb-5 w-10/12 min-w-[30%] md:h-72 h-96  md:ml-4"},r.createElement("img",{className:"w-full h-full",src:e[0].url})))):r.createElement("p",null,"make posts if u want them to appear in your profile"):new Array(12).fill(0).map(((e,t)=>r.createElement("div",{className:"w-full"},r.createElement(f,{key:t,width:"100%",height:400})," "))))}function x({user:e}){const[{profile:t,photosCollection:l,followshipCount:o},s]=n.exports.useReducer(((e,t)=>a(a({},e),t)),{profile:{},photosCollection:null,followshipCount:{}});return n.exports.useEffect((async()=>{let l=await u.getImagesOfUser(t.id),o=await u.getFollowship(e.id);s({profile:e,photosCollection:l,followshipCount:o})}),[]),r.createElement(r.Fragment,null,r.createElement(w,{photosCount:l?l.length:0,followshipCount:o,user:e,setFollowerCount:s}),r.createElement(h,{photos:l}))}function E(){i();const[e,t]=n.exports.useState(null),{username:l}=m();return n.exports.useEffect((async()=>{const e=await u.getAUser(l);t(e||!1)}),[]),r.createElement("div",{className:"bg-gray-background"},r.createElement(p,null),r.createElement("div",{className:"container flex flex-col items-center md:mx-auto max-w-screen-lg h-full  my-7 "},null==e?r.createElement(c,{type:"TailSpin",color:"#00BFFF",height:200,width:200}):e?r.createElement(x,{user:e}):r.createElement("p",null,"Sorry, this username doesn't exist, maybe you got it wrong")))}export{E as default};
